
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mtgArenaSniffer - Setup Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1e1e1e, #2d2d30);
            color: white;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 30px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            color: #007AFF;
            margin-bottom: 8px;
            font-size: 28px;
            font-weight: 600;
        }

        .subtitle {
            color: #8E8E93;
            font-size: 16px;
        }

        .platform-badge {
            background: linear-gradient(45deg, #007AFF, #5856D6);
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: inline-block;
            margin-top: 10px;
        }

        .checklist {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        .checklist h3 {
            color: #34C759;
            margin-bottom: 15px;
            font-size: 18px;
        }

        .check-item {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            padding: 8px;
            border-radius: 8px;
            transition: background 0.2s;
        }

        .check-item:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .check-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        .check-icon.success {
            background: #34C759;
            color: white;
        }

        .check-icon.pending {
            background: #FF9500;
            color: white;
        }

        .check-icon.error {
            background: #FF3B30;
            color: white;
        }

        .test-section {
            margin: 20px 0;
        }

        .test-section h3 {
            color: #007AFF;
            margin-bottom: 15px;
        }

        .btn {
            background: linear-gradient(45deg, #007AFF, #5856D6);
            border: none;
            padding: 12px 24px;
            border-radius: 10px;
            color: white;
            cursor: pointer;
            margin: 8px 8px 8px 0;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            font-size: 14px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0, 122, 255, 0.3);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn.secondary {
            background: linear-gradient(45deg, #8E8E93, #636366);
        }

        .btn.secondary:hover {
            box-shadow: 0 4px 16px rgba(142, 142, 147, 0.3);
        }

        .log-container {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 12px;
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .log-entry {
            margin-bottom: 4px;
            padding: 2px 0;
        }

        .log-entry.success { color: #34C759; }
        .log-entry.error { color: #FF3B30; }
        .log-entry.warning { color: #FF9500; }
        .log-entry.info { color: #007AFF; }

        .timestamp {
            color: #8E8E93;
            font-size: 10px;
        }

        .info-box {
            background: rgba(0, 122, 255, 0.1);
            border: 1px solid rgba(0, 122, 255, 0.3);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }

        .info-box h4 {
            color: #007AFF;
            margin-bottom: 8px;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .feature-card h4 {
            color: #34C759;
            margin-bottom: 8px;
        }

        .feature-card p {
            color: #8E8E93;
            font-size: 13px;
            line-height: 1.4;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        .loading {
            animation: pulse 1.5s infinite;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîç mtgArenaSniffer</h1>
            <p class="subtitle">Detector inteligente de mazos para MTG Arena</p>
            <span class="platform-badge">üçé macOS Version</span>
        </div>

        <div class="checklist">
            <h3>‚úÖ Verificaci√≥n del entorno</h3>
            <div class="check-item">
                <div class="check-icon success" id="html-check">‚úì</div>
                <span>HTML cargado correctamente</span>
            </div>
            <div class="check-item">
                <div class="check-icon pending" id="js-check">‚è≥</div>
                <span>JavaScript funcionando</span>
            </div>
            <div class="check-item">
                <div class="check-icon pending" id="css-check">‚è≥</div>
                <span>CSS aplicado correctamente</span>
            </div>
            <div class="check-item">
                <div class="check-icon pending" id="vscode-check">‚è≥</div>
                <span>VS Code con Live Server</span>
            </div>
        </div>

        <div class="test-section">
            <h3>üß™ Tests de funcionalidad</h3>
            <button class="btn" onclick="testJavaScript()">Test JavaScript</button>
            <button class="btn" onclick="testLocalStorage()">Test Storage</button>
            <button class="btn" onclick="testFetch()">Test APIs</button>
            <button class="btn secondary" onclick="clearLog()">Limpiar Log</button>
        </div>

        <div class="info-box">
            <h4>üéØ Funcionalidades en desarrollo</h4>
            <p>Como est√°s en Mac, desarrollaremos una versi√≥n web standalone con entrada manual de cartas y predicciones autom√°ticas completas.</p>
        </div>

        <div class="feature-grid">
            <div class="feature-card">
                <h4>üÉè Predicci√≥n de mazos</h4>
                <p>Algoritmo inteligente que predice el mazo del oponente basado en las cartas jugadas</p>
            </div>
            <div class="feature-card">
                <h4>üìä Base de datos meta</h4>
                <p>Mazos actualizados del meta de Standard con estad√≠sticas de torneos</p>
            </div>
            <div class="feature-card">
                <h4>üé® Interfaz moderna</h4>
                <p>Dise√±o nativo para macOS con animaciones fluidas y UX intuitiva</p>
            </div>
            <div class="feature-card">
                <h4>üîÑ Tiempo real</h4>
                <p>Predicciones que se actualizan autom√°ticamente con cada carta nueva</p>
            </div>
        </div>

        <div class="log-container" id="log">
            <div class="log-entry info">
                <span class="timestamp">[Iniciando]</span> mtgArenaSniffer cargando...
            </div>
        </div>
    </div>

    <script>
        // Variables globales
        let logContainer = document.getElementById('log');
        let testsPassed = 0;

        // Funci√≥n para escribir logs
        function writeLog(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const entry = document.createElement('div');
            entry.className = `log-entry ${type}`;
            entry.innerHTML = `<span class="timestamp">[${timestamp}]</span> ${message}`;
            logContainer.appendChild(entry);
            logContainer.scrollTop = logContainer.scrollHeight;
        }

        // Test de JavaScript
        function testJavaScript() {
            try {
                writeLog('üß™ Ejecutando test de JavaScript...', 'info');
                
                // Tests b√°sicos
                const testArray = [1, 2, 3];
                const testObject = { name: 'mtgArenaSniffer', version: '1.0' };
                const testPromise = Promise.resolve('Promise funciona');
                
                if (testArray.length === 3 && testObject.name === 'mtgArenaSniffer') {
                    writeLog('‚úÖ JavaScript: Variables y objetos OK', 'success');
                    updateCheck('js-check', true);
                    testsPassed++;
                } else {
                    throw new Error('Variables no funcionan correctamente');
                }

                // Test de ES6
                const [first, ...rest] = testArray;
                const { name } = testObject;
                
                if (first === 1 && name === 'mtgArenaSniffer') {
                    writeLog('‚úÖ JavaScript: ES6 features OK', 'success');
                } else {
                    throw new Error('ES6 features no funcionan');
                }

                writeLog('üéâ JavaScript completamente funcional', 'success');
                
            } catch (error) {
                writeLog(`‚ùå Error en JavaScript: ${error.message}`, 'error');
                updateCheck('js-check', false);
            }
        }

        // Test de localStorage
        function testLocalStorage() {
            try {
                writeLog('üß™ Testing Local Storage...', 'info');
                
                const testData = { test: 'mtgArenaSniffer', timestamp: Date.now() };
                localStorage.setItem('mtgArenaSnifferTest', JSON.stringify(testData));
                
                const retrieved = JSON.parse(localStorage.getItem('mtgArenaSnifferTest'));
                
                if (retrieved && retrieved.test === 'mtgArenaSniffer') {
                    writeLog('‚úÖ Local Storage: Funcionando correctamente', 'success');
                    localStorage.removeItem('mtgArenaSnifferTest');
                } else {
                    throw new Error('No se pudo recuperar datos');
                }
                
            } catch (error) {
                writeLog(`‚ùå Local Storage Error: ${error.message}`, 'error');
            }
        }

        // Test de fetch API
        function testFetch() {
            writeLog('üß™ Testing Fetch API...', 'info');
            
            // Test con una API p√∫blica
            fetch('https://api.github.com/users/octocat')
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}`);
                    }
                    return response.json();
                })
                .then(data => {
                    writeLog('‚úÖ Fetch API: Funcionando correctamente', 'success');
                    writeLog(`üì° Test API response: ${data.login}`, 'info');
                })
                .catch(error => {
                    writeLog(`‚ùå Fetch API Error: ${error.message}`, 'error');
                    writeLog('‚ÑπÔ∏è Fetch API podr√≠a estar bloqueada por CORS', 'warning');
                });
        }

        // Actualizar checks visuales
        function updateCheck(checkId, success) {
            const check = document.getElementById(checkId);
            if (success) {
                check.className = 'check-icon success';
                check.textContent = '‚úì';
            } else {
                check.className = 'check-icon error';
                check.textContent = '‚úó';
            }
        }

        // Limpiar log
        function clearLog() {
            logContainer.innerHTML = '<div class="log-entry info"><span class="timestamp">[Limpiado]</span> Log reiniciado</div>';
        }

        // Auto-ejecutar al cargar
        document.addEventListener('DOMContentLoaded', function() {
            writeLog('üöÄ mtgArenaSniffer iniciando...', 'info');
            writeLog('üçé Detectado: macOS', 'info');
            writeLog('üåê Modo: Desarrollo web standalone', 'info');
            
            // Verificar CSS
            const computed = getComputedStyle(document.body);
            if (computed.background.includes('gradient') || computed.background.includes('linear')) {
                writeLog('‚úÖ CSS: Estilos aplicados correctamente', 'success');
                updateCheck('css-check', true);
            }
            
            // Verificar si est√° en Live Server
            if (location.protocol === 'http:' && location.hostname === '127.0.0.1') {
                writeLog('‚úÖ Live Server: Detectado y funcionando', 'success');
                updateCheck('vscode-check', true);
            } else if (location.protocol === 'file:') {
                writeLog('‚ö†Ô∏è Abriendo desde archivo local - Recomendado usar Live Server', 'warning');
                updateCheck('vscode-check', false);
            }
            
            writeLog('üéØ Listo para comenzar desarrollo', 'success');
            writeLog('üëÜ Haz click en los botones de test arriba', 'info');
        });

        // Hacer disponible globalmente
        window.mtgArenaSnifferTest = {
            writeLog,
            testJavaScript,
            testLocalStorage,
            testFetch,
            clearLog
        };
    </script>
</body>
</html>